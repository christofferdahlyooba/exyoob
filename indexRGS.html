<!DOCTYPE html>
<html ng-app="mockApp">
<head>
	<title>ExYoob</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap-switch.css">
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/css/base/jquery.ui.all.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.2/css/lightness/jquery-ui-1.10.2.custom.min.css" rel="stylesheet">
	<link rel="stylesheet" href="css/row.css" media="all">
	<link rel="stylesheet" href="css/col.css" media="all">
	<link rel="stylesheet" href="css/style.css" media="all">
	<style>
		html {
			overflow: -moz-scrollbars-vertical; 
			overflow-y: scroll;
		}		
	</style>
</head>
<body id="ng" ng-controller="MasterCtrl">
    <div ng-controller="FirstController">
        <div class="container">

            <h1>Create your component</h1>

            <div class="row">

                <!--************************************** LIST VIEW ******************************************************************-->
                <div class="col-md-8" ng-hide="settings.gridMode">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <button ng-hide="settings.root" ng-click="goBack()"><span class="glyphicon glyphicon-chevron-left"></span></button>
                            {{settings.dir}}
                            <button class="gridButton" ng-show="settings.allAllowed" ng-click="changeView()"><span class="glyphicon glyphicon-th-large"></span></button>
                        </div>
                        <div class="panel-body contentpanel2">
                            <div class="col-md-4">
                                <div ng-hide="settings.notAdded" ng-repeat="folder in getFolders(settings.currentFolder)">
                                    <input type="image" src="img/folderList.png" ng-click="enter(folder)">
                                    {{folder.name}}
                                    </input>
                                </div>
                                <div ng-hide="settings.notAdded" ng-repeat="file in getFiles(settings.currentFolder)">
                                    <input type="image" src="img/fileList.png" ng-click="showListPreview(file)">
                                    {{file.name}}
                                    </input>
                                </div>
                                <input data-toggle="modal" href="#addFiles" type="image" src="img/bw_add_minimini.png" ng-hide="settings.notAdded" />
                            </div>
                            <div class="col-md-8" id="previewDiv">
                                <canvas id="preview"></canvas>
                            </div>
                        </div>

                    </div>
                </div>
                <!--******************************************************************************************************************-->
                <!--************************************** GRID VIEW *****************************************************************-->
                <div class="col-md-8" ng-show="settings.gridMode">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <button ng-hide="settings.root" ng-click="goBack()"><span class="glyphicon glyphicon-chevron-left"></span></button>
                            {{settings.dir}}
                            <button class="gridButton" ng-show="settings.allAllowed" ng-click="changeView()"><span class="glyphicon glyphicon-list"></span></button>
                        </div>
                        <div id="resizable">
                            <div class="panel-body text-center contentpanel2" ng-style="settings.bgImage">
                                <div id="previewGridDiv" ng-show="settings.gridPreview">
                                    <!--<input id="previewClose" type="image" src="img/cleaar.png" ng-click="settings.gridPreview = false" />-->
                                    <span id="previewClose" class="glyphicon glyphicon-remove-circle" ng-click="settings.gridPreview = false"></span>
                                    <canvas id="previewGrid"></canvas>
                                </div>
                                <!-- ----------------Content Body-------------------------  -->
                                <input data-toggle="modal" href="#addFiles" type="image" src="img/bw_add.png" ng-show="settings.notAdded" />
                                <!-- --------------------COLUMN---------------------------- -->
                                <div ng-show="settings.cols">
                                    <!-- Folders -->
                                    <div ng-class="settings.colStyle" ng-hide="settings.notAdded" ng-repeat="folder in getFolders(settings.currentFolder)">
                                        <!--<input type="image" ng-show="settings.editing" src="img/cleaar.png" ng-click="deleteFolder(folder)" />-->
                                        <span class="glyphicon glyphicon-remove-circle" ng-show="settings.editing" ng-click="deleteFolder(folder)"></span>
                                        <input type="image" ng-src="{{folder.img}}" ng-click="enter(folder)" />
                                        <input type="checkbox" ng-show="settings.editing" ng-model="folder.checked" />
                                        <div ng-show="settings.showFont && !settings.editing" ng-style="settings.font">{{folder.name}}</div>
                                        <div ng-show="settings.showFont && settings.editing" class="nameField">
                                            <input type="text" id="{{'folder-'+$index}}" name="q" ng-model="folder.name" ng-style="settings.font" style="background: rgba(5, 5, 5, .2);" />
                                            <img class="clearName" src="img/cleaar.png" ng-click='clearName($index, folder)' />
                                        </div>
                                    </div>

                                    <!-- Files -->
                                    <div ng-class="settings.colStyle" ng-hide="settings.notAdded" ng-repeat="file in getFiles(settings.currentFolder)">
                                        <!--<input type="image" ng-show="settings.editing" src="img/cleaar.png" ng-click="deleteFile(file)" />-->
                                        <span class="glyphicon glyphicon-remove-circle" ng-show="settings.editing" ng-click="deleteFile(file)"></span>
                                        <input type="image" ng-click="showGridPreview(file)" class="imageThumb" ng-src="{{file.data}}" ng-show="settings.showThumb && file.isImg" />
                                        <input type="image" ng-click="showGridPreview(file)" ng-src="{{file.img}}" ng-hide="settings.showThumb && file.isImg" />
                                        <input type="checkbox" ng-show="settings.editing" ng-model="file.checked" />
                                        <div ng-show="settings.showFont && !settings.editing" ng-style="settings.font">{{file.name}}</div>
                                        <div ng-show="settings.showFont && settings.editing" class="nameField">
                                            <input type="text" id="{{'file-'+$index}}" name="q" ng-model="file.name" ng-style="settings.font" style="background: rgba(5, 5, 5, .2);" />
                                            <img class="clearName" src="img/cleaar.png" ng-click='clearName($index, file)' />
                                        </div>
                                    </div>
                                    <div ng-class="settings.colStyle">
                                        <input data-toggle="modal" href="#addFiles" type="image" src="img/bw_add_minimini.png" ng-hide="settings.notAdded" id="dnd" />
                                    </div>
                                </div>
                                <!-- --------------------ROW---------------------------- -->
                                <div ng-hide="settings.cols">
                                    <ul id="rowStyle">
                                        <!-- Folders -->
                                        <div ng-hide="settings.notAdded" ng-repeat="folder in getFolders(settings.currentFolder)">
                                            <li ng-class="settings.rowStyleLi">
                                                <!--<input type="image" ng-show="settings.editing" src="img/cleaar.png" ng-click="deleteFolder(folder)" />-->
                                                <span class="glyphicon glyphicon-remove-circle" ng-show="settings.editing" ng-click="deleteFolder(folder)"></span>
                                                <input type="image" ng-src="{{folder.img}}" ng-click="enter(folder)" />
                                                <input type="checkbox" ng-show="settings.editing" ng-model="folder.checked" />
                                                <div ng-show="settings.showFont && !settings.editing" ng-style="settings.font">{{folder.name}}</div>
                                                <div ng-show="settings.showFont && settings.editing" class="nameField">
                                                    <input type="text" id="{{'folder-'+$index}}" name="q" ng-model="folder.name" ng-style="settings.font" style="background: rgba(5, 5, 5, .2);" />
                                                    <img class="clearName" src="img/cleaar.png" ng-click='clearName($index, folder)' />
                                                </div>
                                            </li>
                                        </div>
                                        <!-- Files -->
                                        <div ng-hide="settings.notAdded" ng-repeat="file in getFiles(settings.currentFolder)">
                                            <li ng-class="settings.rowStyleLi">
                                                <!--<input type="image" ng-show="settings.editing" src="img/cleaar.png" ng-click="deleteFile(file)" />-->
                                                <span class="glyphicon glyphicon-remove-circle" ng-show="settings.editing" ng-click="deleteFile(file)"></span>
                                                <input type="image" ng-click="showGridPreview(file)" class="imageThumb" ng-src="{{file.data}}" ng-show="settings.showThumb && file.isImg" />
                                                <input type="image" ng-click="showGridPreview(file)" ng-src="{{file.img}}" ng-hide="settings.showThumb && file.isImg" />
                                                <input type="checkbox" ng-show="settings.editing" ng-model="file.checked" />
                                                <div ng-show="settings.showFont && !settings.editing" ng-style="settings.font">{{file.name}}</div>
                                                <div ng-show="settings.showFont && settings.editing" class="nameField">
                                                    <input type="text" id="{{'file-'+$index}}" name="q" ng-model="file.name" ng-style="settings.font" style="background: rgba(5, 5, 5, .2);" />
                                                    <img class="clearName" src="img/cleaar.png" ng-click='clearName($index, file)' />
                                                </div>
                                            </li>
                                        </div>

                                        <div>
                                            <li ng-class="settings.rowStyleLi">
                                                <input data-toggle="modal" href="#addFiles" type="image" src="img/bw_add_minimini.png" ng-hide="settings.notAdded" id="dnd" />
                                            </li>
                                        </div>
                                </div>
                                </ul>

                                <!-- ---------------------------------------------------- --->
                            </div>
                        </div>
                    </div>
                </div>
                <!--*********************************************************************************************************-->
                <!--************************************** SETTINGS PANEL *****************************************************************-->
                <div class="col-md-4 col-settings">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Settings
                        </div>
                        <!-- Settings body-->
                        <div class="panel-body settingsMenu" ng-show="settings.editing">
                            <!-- Standard Settings -->
                            <div class="firstSetting" ng-hide="subMenuOpen()">
                                Scrolling:
                                <input type="checkbox" name="scrollingBox" id="scrollingBox" data-on-color="default" data-off-color="default" data-on-text="<span class='glyphicon glyphicon-resize-vertical'></span>" data-off-text="<span class='glyphicon glyphicon-resize-horizontal'></span>">
                                <p>
                                    Views allowed: {{settings.viewsAllowed}} <button  ng-click="viewMenu()"><span class="glyphicon glyphicon-chevron-right"></span></button>
                                </p>

                                <p ng-hide="settings.cols">
                                    Number of rows:
                                    <button type="button" class="btn btn-default" ng-click="changeRow(-1)">-</button>

                                    {{settings.nrOfRows}}

                                    <button type="button" class="btn btn-default" ng-click="changeRow(1)">+</button>
                                </p>
                                <p ng-show="settings.cols">
                                    Number of cols:
                                    <button type="button" class="btn btn-default" ng-click="changeCol(-1)">-</button>

                                    {{settings.nrOfCols}}

                                    <button type="button" class="btn btn-default" ng-click="changeCol(1)">+</button>
                                </p>
                                <hr>
                                Change background: <input type="image" src="img/bg_mini.jpg" ng-click="bgMenu()"></input>
                                <hr>
                                <div class="folderSettings">
                                    <p>
                                        Number of folders:<!-- TODO -->
                                        <button type="button" class="btn btn-default" ng-click="minusFolder()">-</button>

                                        {{settings.nrOfFolders}}

                                        <button type="button" class="btn btn-default" ng-click="addFolders()">+</button>
                                    </p>
                                    <p>
                                        Folder icon: <input type="image" src="img/folder.png" ng-click="folderIconMenu()"></input>
                                    </p>

                                    <p>
                                        File icon: <input type="image" src="img/file.png" ng-click="fileIconMenu()"></input>
                                    </p>

                                    <p>
                                        Show Thumbnails:
                                        <input type="checkbox" name="showThumb" id="showThumb" data-on-color="default" data-off-color="default">
                                    </p>
                                    <p>
                                        Show Folder names:
                                        <input type="checkbox" name="showFolderName" id="showFolderName" data-on-color="default" data-off-color="default">
                                    </p>
                                    <!-- FONT SETTINGS -->
                                    <div class="fontSettings" ng-show="settings.showFont">
                                        Font size:
                                        <button type="button" class="btn btn-default" ng-click="changeFontSize(-1)">-</button>

                                        {{settings.fontSize}}

                                        <button type="button" class="btn btn-default" ng-click="changeFontSize(1)">+</button>

                                        <p>
                                            Font: {{settings.fontText}} <button ng-click="fontMenu()"><span class="glyphicon glyphicon-chevron-right"></span> </button>
                                        </p>

                                        <p>
                                            Font Color: {{settings.fontColor}} <button ng-click="fontColorMenu()"><span class="glyphicon glyphicon-chevron-right"></span></button>
                                        </p>
                                    </div>
                                    <!-- ----------- -->
                                    <hr>
                                    <div class="permissionSettings">
                                        <p> View Access: <button ng-click="openViewAccessMenu()"><span class="glyphicon glyphicon-chevron-right"></span></button></p>
                                        <p> Share Access: <button ng-click="openShareAccessMenu()"><span class="glyphicon glyphicon-chevron-right"></span></button></p>
                                        <p> Move Access: <button ng-click="openMoveAccessMenu()"><span class="glyphicon glyphicon-chevron-right"></span></button></p>
                                        <p> Download Auto: <button ng-click="openSyncAccessMenu()"><span class="glyphicon glyphicon-chevron-right"></span></button></p>
                                    </div>

                                    <hr>
                                </div>
                            </div>
                            <!-- ----------------------- -->
                            <!----------------- Views allowed ----------------->
                            <div class="viewsAllowed" ng-show="settings.underMenu0">
                                <p>Views allowed</p>
                                <ul>
                                    <li><input type="radio" ng-model="settings.viewsAllowed" ng-click="applyViews()" value="Grid & List"> Grid & List</input></li>
                                    <li><input type="radio" ng-model="settings.viewsAllowed" ng-click="applyViews()" value="Grid"> Grid</input></li>
                                    <li><input type="radio" ng-model="settings.viewsAllowed" ng-click="applyViews()" value="List"> List</input></li>
                                </ul>
                            </div>
                            <!-- ------------------------------------------- -->
                            <!-- Background settings -->
                            <div class="chooseBg" ng-show="settings.underMenu">
                                <p>Change background</p>
                                <ul>
                                    <li><input type="image" src="img/bg_mini.jpg" ng-click="changeBg(1)">Standard</input></li>

                                    <li><input type="image" src="img/bw_sand.jpg" ng-click="changeBg(2)">Relaxing Sand</input></li>

                                    <li><input type="image" src="img/bw_sunset.jpg" ng-click="changeBg(3)">Green Sunset</input></li>

                                    <li><input type="image" src="img/bw_sky.jpg" ng-click="changeBg(44)">Amazing Sky</input></li>
                                </ul>
                            </div>
                            <!-- --------------------- -->
                            <!-- Folder icon settings -->
                            <div class="chooseFolderIcon" ng-show="settings.underMenu2">
                                <p>Folder icon</p>
                                <ul>
                                    <li><input type="image" src="img/folder.png" ng-click="changeFolderIcon(1)">Standard</input></li>
                                    <li><input type="image" src="img/picFolder.png" ng-click="changeFolderIcon(2)">Picture Folder</input></li>
                                    <li><input type="image" src="img/musicFolder.png" ng-click="changeFolderIcon(3)">Music Folder</input></li>
                                </ul>
                            </div>
                            <!-- --------------------- -->
                            <!-- File icon settings -->
                            <div class="chooseFileIcon" ng-show="settings.underMenu5">
                                <p>File icon</p>
                                <ul>
                                    <li><input type="image" src="img/file.png" ng-click="changeFileIcon(1)">Standard</input></li>
                                    <li><input type="image" src="img/picFile.png" ng-click="changeFileIcon(2)">Picture File</input></li>
                                    <li><input type="image" src="img/pdfFile.jpg" ng-click="changeFileIcon(3)">PDF File</input></li>
                                </ul>
                            </div>
                            <!-- --------------------- -->
                            <!-- Font settings -->
                            <div class="chooseFont" ng-show="settings.underMenu3">
                                <p>Choose font:</p>
                                <ul>
                                    <li><input type="radio" ng-model="settings.fontText" ng-click="applyFont()" value="Verdana"> Verdana</input></li>
                                    <li><input type="radio" ng-model="settings.fontText" ng-click="applyFont()" value="Webdings"> Webdings</input></li>
                                    <li><input type="radio" ng-model="settings.fontText" ng-click="applyFont()" value="Arial">Arial</input></li>
                                </ul>
                            </div>
                            <!-- --------------------- -->
                            <!-- Font color settings -->
                            <div class="chooseFontColor" ng-show="settings.underMenu4">
                                <p>Choose font color:</p>
                                <ul>
                                    <li><input type="radio" ng-model="settings.fontColor" ng-click="applyFontColor()" value="blue"> Blue</input></li>
                                    <li><input type="radio" ng-model="settings.fontColor" ng-click="applyFontColor()" value="white"> White</input></li>
                                    <li><input type="radio" ng-model="settings.fontColor" ng-click="applyFontColor()" value="red">Red</input></li>
                                </ul>
                            </div>
                            <!-- --------------------- -->
                            <!-- Permissions  -->
                            <div class="setViewAccess" ng-show="settings.underMenuViewAccess">
                                <button ng-click="exitAccessMenu()"><span class="glyphicon glyphicon-chevron-left"></span></button>
                                <h2>View Access</h2>
                                <ul ng-repeat="person in persons">
                                    <li><input type="checkbox" ng-model="person.checked" ng-change="addViewAccess({event:{checked:person.checked,person:person}})"/>{{person.name}}</li>
                                </ul>
                            </div>
                            <div class="setShareAccess" ng-show="settings.underMenuShareAccess">
                                <button ng-click="exitAccessMenu()"><span class="glyphicon glyphicon-chevron-left"></span></button>
                                <h2>Share Access</h2>
                                <ul ng-repeat="person in persons">
                                    <li><input ng-disabled="person.noViewAccess" type="checkbox" ng-model="person.checked" ng-change="addShareAccess({event:{checked:person.checked,person:person}})"/>{{person.name}}</li>
                                </ul>
                            </div>
                            <div class="setMoveAccess" ng-show="settings.underMenuMoveAccess">
                                <button ng-click="exitAccessMenu()"><span class="glyphicon glyphicon-chevron-left"></span></button>
                                <h2>Move Access</h2>
                                <ul ng-repeat="person in persons">
                                    <li><input ng-disabled="person.noViewAccess" type="checkbox" ng-model="person.checked" ng-change="addMoveAccess({event:{checked:person.checked,person:person}})" />{{person.name}}</li>
                                </ul>
                            </div>
                            <div class="setSyncAccess" ng-show="settings.underMenuSyncAccess">
                                <button ng-click="exitAccessMenu()"><span class="glyphicon glyphicon-chevron-left"></span></button>
                                <h2>Sync Access</h2>
                                <ul ng-repeat="person in persons">
                                    <li><input ng-disabled="person.noViewAccess" type="checkbox" ng-model="person.checked" ng-change="addSyncAccess({event:{checked:person.checked,person:person}})" />{{person.name}}</li>
                                </ul>
                            </div>
                        </div>
                        <!-- ------------------ -->
                        <div class="panel-footer text-center">
                            <button type="button" class="btn btn-default" ng-click="editMode()">{{settings.mode}}</button>
                        </div>
                    </div>
                </div>
                <!--***********************************************************************************************************************-->
                <!--************************************** MODALS *************************************************************************-->
                <!-- First add popup -->
                <div class="modal" id="addFiles">
                    <div class="modal-dialog">
                        <div class="modal-content text-center">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title">ADD</h4>
                            </div>
                            <div class="modal-body">
                                <ul>
                                    <li><input type="image" src="img/addFolder.jpg" data-dismiss="modal" ng-click="add()">Add Folders</input></li>

                                    <li><input type="image" data-toggle="modal" href="#addDropbox" src="img/dropbox.jpg" data-dismiss="modal" ng-click="add()">Add from Dropbox</input></li>

                                    <li><input type="image" src="img/box_logo.png" data-dismiss="modal">Add from Box</input></li>

                                    <li><input type="image" src="img/drive.png" data-dismiss="modal">Add from Google Drive</input></li>

                                    <li>
                                        <div class="image-upload">

                                            <label for="files">
                                                <img src="img/computer.png" />
                                            </label>

                                            <input type="file" multiple id="files" name="files[]" ng-click="add()"> Add from computer </input>

                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ------------------------------- -->
                <!-- Dropbox add popup --><!--TODO-->
                <div class="modal" id="addDropbox">
                    <div class="modal-dialog">
                        <div class="modal-content text-center">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title">ADD FROM DROPBOX</h4>
                            </div>
                            <div class="modal-body">
                                <ul>
                                    <li><input type="image" src="img/dbFolder.png" data-dismiss="modal" ng-click="addDBFolder('DBFolder1')">DBFolder1</input></li>

                                    <li><input type="image" src="img/dbFolder.png" data-dismiss="modal" ng-click="addDBFolder('DBFolder2')">DBFolder2</input></li>

                                    <li><input type="image" src="img/dbFolder.png" data-dismiss="modal" ng-click="addDBFolder('DBFolder3')">DBFolder3</input></li>

                                    <li><input type="image" src="img/pdf.png" data-dismiss="modal">PDF1</input></li>

                                    <li><input type="image" src="img/pdf.png" data-dismiss="modal">PDF2</input></li>

                                    <li><input type="image" src="img/pdf.png" data-dismiss="modal">PDF3</input></li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ---------------------------- -->
                <!--***********************************************************************************************************************-->
            </div>

        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
        <script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script type='text/javascript' src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
        <script src="js/node.js"></script>
        <script src="js/jquery-ui.min.js"></script>
        <script src="js/jquery.ui.touch-punch.js"></script>
        <script src="js/mockApp.js"></script>
        <script src="js/studioCtrl.js"></script>
        <script src="js/bootstrap-switch.js"></script>
        <script src="js/scripts.js"></script>

        <a href='#' onclick="exportToJson()">test</a>
    </div>
</body>
</html>